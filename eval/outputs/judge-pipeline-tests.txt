============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\dpowe\AppData\Local\Programs\Python\Python312\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\dpowe\OneDrive\Documents\Coding Projects\stratum-observability\stratum-lab
configfile: pyproject.toml
plugins: anyio-4.12.1
collecting ... collected 59 items

eval/test_judge.py::TestEventLoader::test_load_events_from_file PASSED   [  1%]
eval/test_judge.py::TestEventLoader::test_load_events_missing_file PASSED [  3%]
eval/test_judge.py::TestEventLoader::test_load_events_malformed_lines PASSED [  5%]
eval/test_judge.py::TestEventLoader::test_reconstruct_context_agents PASSED [  6%]
eval/test_judge.py::TestEventLoader::test_reconstruct_context_repo_url PASSED [  8%]
eval/test_judge.py::TestEventLoader::test_reconstruct_context_framework PASSED [ 10%]
eval/test_judge.py::TestEventLoader::test_reconstruct_context_delegation_chain PASSED [ 11%]
eval/test_judge.py::TestEventLoader::test_agent_task_description PASSED  [ 13%]
eval/test_judge.py::TestEventLoader::test_agent_output_text PASSED       [ 15%]
eval/test_judge.py::TestEventLoader::test_agent_output_hash PASSED       [ 16%]
eval/test_judge.py::TestEventLoader::test_agent_llm_calls PASSED         [ 18%]
eval/test_judge.py::TestEventLoader::test_agent_token_totals PASSED      [ 20%]
eval/test_judge.py::TestEventLoader::test_agent_duration PASSED          [ 22%]
eval/test_judge.py::TestEventLoader::test_total_events PASSED            [ 23%]
eval/test_judge.py::TestEventLoader::test_total_duration PASSED          [ 25%]
eval/test_judge.py::TestEventLoader::test_incomplete_agent PASSED        [ 27%]
eval/test_judge.py::TestEventLoader::test_load_execution_context_from_file PASSED [ 28%]
eval/test_judge.py::TestEventLoader::test_empty_events PASSED            [ 30%]
eval/test_judge.py::TestCriteriaPrompts::test_task_adherence_prompt_valid PASSED [ 32%]
eval/test_judge.py::TestCriteriaPrompts::test_task_adherence_empty_output_skipped PASSED [ 33%]
eval/test_judge.py::TestCriteriaPrompts::test_hallucination_prompt_valid PASSED [ 35%]
eval/test_judge.py::TestCriteriaPrompts::test_hallucination_with_upstream_context PASSED [ 37%]
eval/test_judge.py::TestCriteriaPrompts::test_instruction_leakage_prompt_valid PASSED [ 38%]
eval/test_judge.py::TestCriteriaPrompts::test_output_quality_prompt_valid PASSED [ 40%]
eval/test_judge.py::TestCriteriaPrompts::test_output_quality_empty_output_skipped PASSED [ 42%]
eval/test_judge.py::TestCriteriaPrompts::test_delegation_fidelity_prompt_valid PASSED [ 44%]
eval/test_judge.py::TestCriteriaPrompts::test_delegation_fidelity_missing_output PASSED [ 45%]
eval/test_judge.py::TestCriteriaPrompts::test_error_propagation_prompt_valid PASSED [ 47%]
eval/test_judge.py::TestCriteriaPrompts::test_error_propagation_no_issues_skipped PASSED [ 49%]
eval/test_judge.py::TestCriteriaPrompts::test_all_per_agent_criteria_registered PASSED [ 50%]
eval/test_judge.py::TestCriteriaPrompts::test_all_chain_criteria_registered PASSED [ 52%]
eval/test_judge.py::TestCriteriaPrompts::test_prompts_request_json_only PASSED [ 54%]
eval/test_judge.py::TestRunner::test_build_batch_requests PASSED         [ 55%]
eval/test_judge.py::TestRunner::test_batch_request_count PASSED          [ 57%]
eval/test_judge.py::TestRunner::test_batch_request_custom_id_format PASSED [ 59%]
eval/test_judge.py::TestRunner::test_try_parse_json_valid PASSED         [ 61%]
eval/test_judge.py::TestRunner::test_try_parse_json_with_fences PASSED   [ 62%]
eval/test_judge.py::TestRunner::test_try_parse_json_with_text PASSED     [ 64%]
eval/test_judge.py::TestRunner::test_try_parse_json_invalid PASSED       [ 66%]
eval/test_judge.py::TestRunner::test_build_retry_request PASSED          [ 67%]
eval/test_judge.py::TestRunner::test_single_agent_no_chain_criteria PASSED [ 69%]
eval/test_judge.py::TestAggregator::test_build_summary_empty PASSED      [ 71%]
eval/test_judge.py::TestAggregator::test_build_summary_task_adherence PASSED [ 72%]
eval/test_judge.py::TestAggregator::test_build_summary_hallucination PASSED [ 74%]
eval/test_judge.py::TestAggregator::test_build_summary_framework_breakdown PASSED [ 76%]
eval/test_judge.py::TestAggregator::test_build_summary_delegation_fidelity PASSED [ 77%]
eval/test_judge.py::TestAggregator::test_build_summary_error_propagation PASSED [ 79%]
eval/test_judge.py::TestAggregator::test_generate_headlines PASSED       [ 81%]
eval/test_judge.py::TestAggregator::test_judge_errors_excluded_from_summary PASSED [ 83%]
eval/test_judge.py::TestCostTracker::test_initial_state PASSED           [ 84%]
eval/test_judge.py::TestCostTracker::test_record_updates_totals PASSED   [ 86%]
eval/test_judge.py::TestCostTracker::test_cost_calculation PASSED        [ 88%]
eval/test_judge.py::TestCostTracker::test_estimate_cost PASSED           [ 89%]
eval/test_judge.py::TestCostTracker::test_summary_dict PASSED            [ 91%]
eval/test_judge.py::TestDiscovery::test_discover_runs_with_success PASSED [ 93%]
eval/test_judge.py::TestDiscovery::test_discover_runs_filters_status PASSED [ 94%]
eval/test_judge.py::TestDiscovery::test_discover_runs_resume_skips_existing PASSED [ 96%]
eval/test_judge.py::TestDiscovery::test_discover_runs_max_repos PASSED   [ 98%]
eval/test_judge.py::TestDiscovery::test_discover_runs_missing_events PASSED [100%]

============================= 59 passed in 0.10s ==============================
