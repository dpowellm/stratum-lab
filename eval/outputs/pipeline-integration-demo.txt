Working directory: C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na

==============================================================================
PHASE 1: REPO SELECTION
==============================================================================
  Input repos:       30
  Selected repos:    20
  Frameworks:        {'langchain': 6, 'custom': 6, 'autogen': 5, 'langgraph': 2, 'crewai': 1}
  Archetypes:        {'parallel_fan_out': 2, 'guardrail_gated_pipeline': 2, 'hierarchical_delegation': 2, 'supervisor_worker': 2, 'debate_consensus': 2, 'hub_and_spoke_shared_state': 2, 'reflection_loop': 2, 'single_agent_tool_use': 2, 'sequential_pipeline': 1, 'market_auction': 1, 'blackboard_architecture': 1, 'human_in_the_loop': 1}
  Avg structural:    27.6
  Avg runnability:   28.5

  -> Saved selection to C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na\selection.json

==============================================================================
PHASE 2: EXECUTION HARNESS (MOCKED)
==============================================================================
  Repos executed:    10
  Runs per repo:     3
  Total runs:        30
  Total events:      1478

  -> Saved 30 JSONL files to C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na\raw_events

==============================================================================
PHASE 3: DATA COLLECTION
==============================================================================
  Run records built: 30
  Repos aggregated:  10

  Sample run record (repo_013_run_1):
    Total events:    47
    Event types:     {'execution.start': 1, 'agent.task_start': 5, 'llm.call_start': 5, 'llm.call_end': 5, 'tool.invoked': 5, 'tool.completed': 5, 'decision.made': 5, 'agent.task_end': 5, 'delegation.initiated': 4, 'data.write': 2, 'data.read': 1, 'external.call': 2, 'guardrail.triggered': 1, 'execution.end': 1}
    LLM calls:       5
    Errors:          0
    Delegations:     4

  Sample repo aggregate (repo_013):
    Num runs:        3
    Total events:    143
    Avg events/run:  47.67

  -> Collection phase complete

==============================================================================
PHASE 4: GRAPH OVERLAY
==============================================================================
  Graphs enriched:   10
  Total emergent:    10
  Total dead:        62

  Sample enriched graph (repo_013):
    Nodes:           18
    Edges:           15
    Emergent edges:  1
    Dead edges:      6
    Node agent_agent_0 (type=agent):
      activation_count:    12
      activation_rate:     1.0
      failure_rate:        0.0
      same_input_activation_consistency: 1.0
      same_input_path_consistency:       1.0
    Node cap_tool_agent_0 (type=capability):
      activation_count:    3
      activation_rate:     1.0
      failure_rate:        0.0
      same_input_activation_consistency: 1.0
      same_input_path_consistency:       1.0
    Node ds_shared_memory (type=data_store):
      activation_count:    9
      activation_rate:     1.0
      failure_rate:        0.0
      same_input_activation_consistency: 1.0
      same_input_path_consistency:       1.0
    Node ext_api_service (type=external):
      activation_count:    6
      activation_rate:     1.0
      failure_rate:        0.0
      same_input_activation_consistency: 1.0
      same_input_path_consistency:       1.0
    Node guard_output_filter (type=guardrail):
      activation_count:    3
      activation_rate:     1.0
      failure_rate:        0.0
      same_input_activation_consistency: 1.0
      same_input_path_consistency:       1.0
      guardrail_trigger_count:  3
      guardrail_prevented:      1
    Emergent: agent_agent_4 -> ext_api_service (count=0)

  -> Saved 10 enriched graphs to C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na\enriched_graphs

==============================================================================
PHASE 5: KNOWLEDGE BASE
==============================================================================
  Patterns found:    3
    shared_state_without_arbitration: prevalence=1.00, failure_rate=1.00, risk=medium
    linear_delegation_chain: prevalence=1.00, failure_rate=1.00, risk=medium
    trust_boundary_crossing: prevalence=1.00, failure_rate=1.00, risk=medium

  Taxonomy preconditions with data: 2
    shared_state_no_arbitration: P(manifest)=1.0, CI=[0.7225, 1.0], n=10
    no_timeout_on_delegation: P(manifest)=1.0, CI=[0.6457, 1.0], n=7

  Novel patterns:    1
    repo_022: anomaly_score=2.39, dim=avg_latency_p50

  Framework comparisons: 3
    shared_state_without_arbitration: frameworks=['autogen', 'custom', 'langchain']
    linear_delegation_chain: frameworks=['autogen', 'custom', 'langchain']
    trust_boundary_crossing: frameworks=['autogen', 'custom', 'langchain']

  Fragility entries: 5
    hub_node: sensitivity=0.0000, repos=10
    chain_node: sensitivity=0.0000, repos=10
    leaf_node: sensitivity=0.0000, repos=10

  -> Saved knowledge base to C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na\knowledge_base

==============================================================================
PHASE 6: QUERY LAYER
==============================================================================
  Customer graph fingerprint:
    feature_vector length: 20
    motifs:               ['linear_delegation_chain', 'shared_state_without_arbitration', 'trust_boundary_crossing']
    topology_hash:        aeb061adddb29efe...
    structural_metrics:   {
    "agent_count": 5,
    "capability_count": 10,
    "data_store_count": 1,
    "external_service_count": 1,
    "guardrail_count": 1,
    "total_edges": 15,
    "delegation_depth_max": 5.0,
    "delegation_depth_mean": 5.0,
    "control_coverage_ratio": 0.0714,
    "observability_coverage_ratio": 0.0667,
    "shared_state_writer_count": 2,
    "trust_boundary_crossing_count": 1,
    "feedback_loop_count": 1,
    "hub_spoke_ratio": 3.0,
    "betweenness_centrality_max": 0.1213,
    "betweenness_centrality_mean": 0.0288,
    "error_propagation_path_count": 1,
    "irreversible_capability_count": 0,
    "agent_to_capability_ratio": 0.5,
    "has_human_checkpoint": 0
}

  Top matches (5):
    shared_state_without_arbitration: score=1.000, type=exact_motif, repos=10
    linear_delegation_chain: score=1.000, type=exact_motif, repos=10
    trust_boundary_crossing: score=1.000, type=exact_motif, repos=10
    structural_match_unknown: score=1.000, type=structural_similarity, repos=1
    hierarchical_delegation: score=1.000, type=archetype, repos=9

  Risk prediction:
    overall_risk_score: 22.2
    predicted_risks:   2
    positive_signals:  3
      shared_state_no_arbitration: P=1.00, severity=low
      no_timeout_on_delegation: P=1.00, severity=low

  Risk report generated: 7289 chars (JSON)

==============================================================================
PHASE 6B: BATCH REPORTS
==============================================================================
  Batch reports generated: 10
  Errors:                0
  Sample report (repo_003):
    risk_score:  22.22
    risk_level:  LOW
    risk_count:  1
  Risk distribution: {'LOW': 10}

==============================================================================
PILOT MODE TEST
==============================================================================
  Pilot batch size:           10
  Repos executed:             10
  Runs completed:             30

  Instrumentation failures:   1/30 (3.3%)
  Model failures:             0/30 (0.0%)
  Other failures:             1/30
  Successful runs:            28/30 (93.3%)

  QUALITY GATE:
    Instrumentation rate:     3.3% <= 20% threshold  PASS
    Model failure rate:       0.0% <= 15% threshold  PASS
    Overall success rate:     93.3%
  QUALITY GATE RESULT:        PASS — proceeding to full scan

==============================================================================
PHASE 1.5: GITHUB METADATA ENRICHMENT (MOCKED)
==============================================================================
  Repos enriched:         10
  Enterprise-ready:       10/10
  Contact-ready:          10/10
  Avg coverage:           81%

==============================================================================
PHASE 7: ENTERPRISE OUTREACH
==============================================================================
  Total classified:       10
  Enterprise (score>=45): 0
  By tier:                {'community': 10}

  Contacts extracted:     0
  Outreach-ready repos:   0/10

  Teaser reports:         10
  Outreach queue size:    10
  Queue saved:            C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na\outreach\outreach_queue.json
                          C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na\outreach\outreach_queue.csv

  Sample outreach record:
    repo:                 repo_013/repo_013
    contact:              None
    tier:                 community
    priority:             0
    headline:             Stratum Security Scan: your repository -- No Risks Detected...

==============================================================================
PIPELINE INTEGRATION SUMMARY
==============================================================================
  Phase 1 (Selection):    30 scanned -> 20 selected
  Phase 1.5 (Metadata):   10 repos enriched, 10 enterprise-ready
  Phase 2 (Execution):    10 repos x 3 runs = 30 runs, 1478 events
  Phase 3 (Collection):   30 run records, 10 repo aggregates
  Phase 4 (Overlay):      10 enriched graphs, 10 emergent edges, 62 dead edges
  Phase 5 (Knowledge):    3 patterns, 2 taxonomy entries, 1 novel, 5 fragility entries
  Phase 6 (Query):        fingerprint + 5 matches + risk prediction + report
  Phase 6B (Batch):       10 per-repo reports
  Phase 7 (Outreach):     10 outreach records, 0 contact-ready

  All outputs saved to: C:\Users\dpowe\AppData\Local\Temp\stratum_pipeline_2ff5c7na

  RESULT: ALL PHASES COMPLETED SUCCESSFULLY
