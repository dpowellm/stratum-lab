============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\dpowe\AppData\Local\Programs\Python\Python312\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\dpowe\OneDrive\Documents\Coding Projects\stratum-observability\stratum-lab
configfile: pyproject.toml
plugins: anyio-4.12.1
collecting ... collected 46 items

tests/test_patchers.py::TestEventLogger::test_singleton_identity PASSED  [  2%]
tests/test_patchers.py::TestEventLogger::test_log_event_returns_event_id PASSED [  4%]
tests/test_patchers.py::TestEventLogger::test_log_event_writes_valid_jsonl PASSED [  6%]
tests/test_patchers.py::TestEventLogger::test_log_event_with_all_optional_fields PASSED [  8%]
tests/test_patchers.py::TestEventLogger::test_run_id_and_repo_id_from_env PASSED [ 10%]
tests/test_patchers.py::TestEventLogger::test_generate_node_id PASSED    [ 13%]
tests/test_patchers.py::TestEventLogger::test_make_node PASSED           [ 15%]
tests/test_patchers.py::TestEventLogger::test_hash_content PASSED        [ 17%]
tests/test_patchers.py::TestEventLogger::test_get_data_shape PASSED      [ 19%]
tests/test_patchers.py::TestEventLogger::test_capture_output_signature_none PASSED [ 21%]
tests/test_patchers.py::TestEventLogger::test_capture_output_signature_string PASSED [ 23%]
tests/test_patchers.py::TestEventLogger::test_capture_output_signature_long_text PASSED [ 26%]
tests/test_patchers.py::TestEventLogger::test_capture_output_signature_classification PASSED [ 28%]
tests/test_patchers.py::TestEventLogger::test_capture_output_signature_routing PASSED [ 30%]
tests/test_patchers.py::TestEventLogger::test_capture_output_signature_scored PASSED [ 32%]
tests/test_patchers.py::TestEventLogger::test_capture_output_signature_structured_json PASSED [ 34%]
tests/test_patchers.py::TestOpenAIPatch::test_openai_patch_wraps_create PASSED [ 36%]
tests/test_patchers.py::TestOpenAIPatch::test_openai_patch_emits_events PASSED [ 39%]
tests/test_patchers.py::TestOpenAIPatch::test_openai_patch_semantic_fields PASSED [ 41%]
tests/test_patchers.py::TestOpenAIPatch::test_openai_patch_parent_event_chain PASSED [ 43%]
tests/test_patchers.py::TestGenericPatch::test_generic_patch_module_loads PASSED [ 45%]
tests/test_patchers.py::TestGenericPatch::test_requests_wrapping PASSED  [ 47%]
tests/test_patchers.py::TestGenericPatch::test_builtins_open_wrapping PASSED [ 50%]
tests/test_patchers.py::TestGenericPatch::test_excepthook_wrapping PASSED [ 52%]
tests/test_patchers.py::TestGenericPatch::test_file_open_under_app_emits_event PASSED [ 54%]
tests/test_patchers.py::TestGenericPatch::test_domain_extraction PASSED  [ 56%]
tests/test_patchers.py::TestCrewAIPatch::test_crewai_patch_loads PASSED  [ 58%]
tests/test_patchers.py::TestCrewAIPatch::test_crewai_wrapper_functions_exist PASSED [ 60%]
tests/test_patchers.py::TestCrewAIPatch::test_crewai_kickoff_wrapper_emits_events PASSED [ 63%]
tests/test_patchers.py::TestLangGraphPatch::test_langgraph_patch_loads PASSED [ 65%]
tests/test_patchers.py::TestLangGraphPatch::test_langgraph_wrapper_functions_exist PASSED [ 67%]
tests/test_patchers.py::TestLangGraphPatch::test_langgraph_invoke_wrapper_emits_events PASSED [ 69%]
tests/test_patchers.py::TestAutoGenPatch::test_autogen_patch_loads PASSED [ 71%]
tests/test_patchers.py::TestAutoGenPatch::test_autogen_wrapper_functions_exist PASSED [ 73%]
tests/test_patchers.py::TestAutoGenPatch::test_autogen_receive_wrapper_emits_events PASSED [ 76%]
tests/test_patchers.py::TestAnthropicPatch::test_anthropic_patch_loads PASSED [ 78%]
tests/test_patchers.py::TestAnthropicPatch::test_translate_messages_basic PASSED [ 80%]
tests/test_patchers.py::TestAnthropicPatch::test_translate_messages_with_tool_use PASSED [ 82%]
tests/test_patchers.py::TestAnthropicPatch::test_translate_tools PASSED  [ 84%]
tests/test_patchers.py::TestAnthropicPatch::test_translate_response_to_anthropic PASSED [ 86%]
tests/test_patchers.py::TestCrossPatcherIntegration::test_multiple_event_types_in_single_file PASSED [ 89%]
tests/test_patchers.py::TestAsyncOpenAIPatch::test_async_openai_patch PASSED [ 91%]
tests/test_patchers.py::TestLangChainChainPatch::test_langchain_chain_invoke PASSED [ 93%]
tests/test_patchers.py::TestLangChainChatModelPatch::test_langchain_chat_model_generate PASSED [ 95%]
tests/test_patchers.py::TestBareHTTPOpenAIPatch::test_bare_http_openai_detection PASSED [ 97%]
tests/test_patchers.py::TestBareHTTPOpenAIPatch::test_bare_http_openai_emits_events PASSED [100%]

============================== warnings summary ===============================
tests/test_patchers.py::TestAsyncOpenAIPatch::test_async_openai_patch
  C:\Users\dpowe\OneDrive\Documents\Coding Projects\stratum-observability\stratum-lab\tests\test_patchers.py:1003: DeprecationWarning: There is no current event loop
    result = asyncio.get_event_loop().run_until_complete(_call_async())

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 46 passed, 1 warning in 3.82s ========================


